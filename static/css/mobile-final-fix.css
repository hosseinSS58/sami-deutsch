/* ===== FINAL MOBILE BACKGROUND FIX ===== */
/* رفع نهایی مشکلات پس‌زمینه در موبایل */

/* Override ALL possible dark backgrounds */
@media (max-width: 1024px) {
  
  /* Force white background on ALL elements */
  * {
    background-color: inherit !important;
  }
  
  /* Header elements */
  .modern-header,
  .modern-header *,
  .header-container,
  .header-container *,
  .header-logo,
  .header-logo *,
  .header-actions,
  .header-actions *,
  .user-section,
  .user-section *,
  .auth-buttons,
  .auth-buttons * {
    background: #ffffff !important;
    background-color: #ffffff !important;
    background-image: none !important;
  }
  
  /* Mobile navigation elements */
  .mobile-nav,
  .mobile-nav *,
  .mobile-nav-content,
  .mobile-nav-content *,
  .mobile-nav-header,
  .mobile-nav-body,
  .mobile-nav-body *,
  .mobile-menu,
  .mobile-menu *,
  .mobile-menu li,
  .mobile-menu li *,
  .mobile-link,
  .mobile-auth,
  .mobile-auth * {
    background: #ffffff !important;
    background-color: #ffffff !important;
    background-image: none !important;
  }
  
  /* Search modal elements */
  .search-modal,
  .search-modal-content,
  .search-modal-content *,
  .search-header,
  .search-header *,
  .search-body,
  .search-body * {
    background: #ffffff !important;
    background-color: #ffffff !important;
    background-image: none !important;
  }
  
  /* Special backgrounds for headers */
  .mobile-nav-header {
    background: #f8f9fa !important;
  }
  
  .search-header {
    background: #f8f9fa !important;
  }
  
  /* Force dark text on ALL elements */
  .modern-header,
  .modern-header *,
  .header-container,
  .header-container *,
  .mobile-nav,
  .mobile-nav *,
  .mobile-nav-content,
  .mobile-nav-content *,
  .mobile-nav-body,
  .mobile-nav-body *,
  .mobile-menu,
  .mobile-menu *,
  .mobile-menu li,
  .mobile-menu li *,
  .mobile-link,
  .mobile-auth,
  .mobile-auth *,
  .search-modal-content,
  .search-modal-content *,
  .search-header,
  .search-header *,
  .search-body,
  .search-body * {
    color: #212529 !important;
  }
  
  /* Force light borders on ALL elements */
  .modern-header,
  .mobile-nav,
  .mobile-nav-header,
  .mobile-auth,
  .search-modal-content,
  .search-header {
    border-color: #e9ecef !important;
  }
  
  /* Override any CSS variables that might cause dark backgrounds */
  :root {
    --header-bg: #ffffff !important;
    --header-bg-scrolled: rgba(255, 255, 255, 0.95) !important;
    --header-text: #212529 !important;
    --header-text-muted: #6c757d !important;
    --header-border: #e9ecef !important;
    --header-light: #f8f9fa !important;
    --header-white: #ffffff !important;
  }
  
  /* Override any Bootstrap dark classes */
  .bg-dark,
  .bg-secondary,
  .bg-black,
  .text-white {
    background: #ffffff !important;
    color: #212529 !important;
  }
  
  /* Override any custom dark classes */
  .dark,
  .dark-mode,
  .theme-dark,
  .dark-theme {
    background: #ffffff !important;
    color: #212529 !important;
  }
}

/* Force override for all screen sizes on mobile */
@media (max-width: 1024px) {
  
  /* Override any media queries that might cause dark backgrounds */
  @media (prefers-color-scheme: dark) {
    .modern-header,
    .mobile-nav,
    .mobile-nav-content,
    .mobile-nav-body,
    .mobile-auth,
    .search-modal-content,
    .search-header,
    .search-body {
      background: #ffffff !important;
      color: #212529 !important;
    }
  }
  
  @media (prefers-contrast: high) {
    .modern-header,
    .mobile-nav,
    .mobile-nav-content,
    .mobile-nav-body,
    .mobile-auth,
    .search-modal-content,
    .search-header,
    .search-body {
      background: #ffffff !important;
      color: #212529 !important;
    }
  }
  
  @media (prefers-reduced-motion: reduce) {
    .modern-header,
    .mobile-nav,
    .mobile-nav-content,
    .mobile-nav-body,
    .mobile-auth,
    .search-modal-content,
    .search-header,
    .search-body {
      background: #ffffff !important;
      color: #212529 !important;
    }
  }
}

/* Force override for all orientations */
@media (max-width: 1024px) and (orientation: portrait) {
  .modern-header,
  .mobile-nav,
  .mobile-nav-content,
  .mobile-nav-body,
  .mobile-auth {
    background: #ffffff !important;
  }
}

@media (max-width: 1024px) and (orientation: landscape) {
  .modern-header,
  .mobile-nav,
  .mobile-nav-content,
  .mobile-nav-body,
  .mobile-auth {
    background: #ffffff !important;
  }
}

/* Force override for all device types */
@media (max-width: 1024px) and (hover: none) {
  .modern-header,
  .mobile-nav,
  .mobile-nav-content,
  .mobile-nav-body,
  .mobile-auth {
    background: #ffffff !important;
  }
}

@media (max-width: 1024px) and (pointer: coarse) {
  .modern-header,
  .mobile-nav,
  .mobile-nav-content,
  .mobile-nav-body,
  .mobile-auth {
    background: #ffffff !important;
  }
}

/* Force override for all pixel densities */
@media (max-width: 1024px) and (-webkit-min-device-pixel-ratio: 1) {
  .modern-header,
  .mobile-nav,
  .mobile-nav-content,
  .mobile-nav-body,
  .mobile-auth {
    background: #ffffff !important;
  }
}

@media (max-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) {
  .modern-header,
  .mobile-nav,
  .mobile-nav-content,
  .mobile-nav-body,
  .mobile-auth {
    background: #ffffff !important;
  }
}

@media (max-width: 1024px) and (-webkit-min-device-pixel-ratio: 3) {
  .modern-header,
  .mobile-nav,
  .mobile-nav-content,
  .mobile-nav-body,
  .mobile-auth {
    background: #ffffff !important;
  }
}

/* Force override for all browsers */
@supports (-webkit-appearance: none) {
  @media (max-width: 1024px) {
    .modern-header,
    .mobile-nav,
    .mobile-nav-content,
    .mobile-nav-body,
    .mobile-auth {
      background: #ffffff !important;
    }
  }
}

@supports (display: flex) {
  @media (max-width: 1024px) {
    .modern-header,
    .mobile-nav,
    .mobile-nav-content,
    .mobile-nav-body,
    .mobile-auth {
      background: #ffffff !important;
    }
  }
}

@supports (display: grid) {
  @media (max-width: 1024px) {
    .modern-header,
    .mobile-nav,
    .mobile-nav-content,
    .mobile-nav-body,
    .mobile-auth {
      background: #ffffff !important;
    }
  }
}

/* Force override for all JavaScript frameworks */
@media (max-width: 1024px) {
  .modern-header[data-theme="dark"],
  .modern-header[data-mode="dark"],
  .modern-header.dark,
  .modern-header.dark-mode,
  .mobile-nav[data-theme="dark"],
  .mobile-nav[data-mode="dark"],
  .mobile-nav.dark,
  .mobile-nav.dark-mode {
    background: #ffffff !important;
    color: #212529 !important;
  }
}

/* Force override for all CSS frameworks */
@media (max-width: 1024px) {
  .modern-header.bg-dark,
  .modern-header.bg-secondary,
  .modern-header.bg-black,
  .mobile-nav.bg-dark,
  .mobile-nav.bg-secondary,
  .mobile-nav.bg-black {
    background: #ffffff !important;
    color: #212529 !important;
  }
}

/* Force override for all CSS-in-JS libraries */
@media (max-width: 1024px) {
  .modern-header[style*="background: black"],
  .modern-header[style*="background: #000"],
  .modern-header[style*="background: rgb(0,0,0)"],
  .modern-header[style*="background: rgba(0,0,0"],
  .mobile-nav[style*="background: black"],
  .mobile-nav[style*="background: #000"],
  .mobile-nav[style*="background: rgb(0,0,0)"],
  .mobile-nav[style*="background: rgba(0,0,0"] {
    background: #ffffff !important;
    color: #212529 !important;
  }
}
